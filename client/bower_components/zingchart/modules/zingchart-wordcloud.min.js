/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.7
*/
zingchart.setModule("wordcloud"),function(){var t;ZC.ADP=((t=function(){this.AED=9,this.AEC=99,this.AE8=2,this.EG=100,this.AE6=15,this.AE5=5,this.ZO=!1,this.ES="word",this.ACB=[],this.AN="",this.aWords=[],this.oWordsMap=null,this.CW="spiral",this.AEN="palette",this.C2="#000",this.bNormalize=!1,this.AGH=function(){for(var t=(16777215*Math.random()+1<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},this.JT=function(){var t,e,a={};if(""!==this.AN){if("word"===this.ES)t=this.AN.replace(/[\:\;\,\.\{\}\[\]\(\)\?\!\/\=\+\-]/g," ").split(" ");else if("character"===this.ES)for(this.AE8=0,t=[],e=0;e<this.AN.length;e++)" "!==this.AN[e]&&t.push(this.AN[e]);for(e=0;e<t.length;e++){var l=this.bNormalize?t[e].toLowerCase():t[e];if(t[e].length>=this.AE8&&-1===ZC.AV(this.ACB,t[e]))if(this.bNormalize){var o=!1;for(var r in a)r.toLowerCase()===l&&(o=!0,a[r]++);o||(a[t[e]]=1)}else null===ZC._n_(a[t[e]])&&(a[t[e]]=0),a[t[e]]++}}if(this.aWords.length>0)for(this.oWordsMap={},e=0;e<this.aWords.length;e++){var i=this.aWords[e];null!==ZC._n_(i.text)&&(this.oWordsMap[i.text]=i,a[i.text]=i.count||0)}return a},this.intersectRect=function(t,e){return!(e.iX>t.iX+t.I||e.iX+e.I<t.iX||e.iY>t.iY+t.F||e.iY+e.F<t.iY)}}).getDefaults=function(e){var a={};return ZC._cp_(t.B8,a),t.NT[e]&&ZC._cp_(t.NT[e],a),a},t.B8={palette:["#6a921f","#007fa3","#a62b02","#b79007","#563d02","#0b32a0"]},t.NT={light:{palette:["#7CA82B","#29A2CC","#D31E1E","#EF8535","#A14BC9","#A05F18","#265E96","#6B7075"]},dark:{palette:["#7CA82B","#29A2CC","#D31E1E","#EF8535","#A14BC9","#A05F18","#265E96","#6B7075"]}},t),zingchart.bind(null,"dataparse",function(t,e){for(var a,l,o,r,i,n=zingchart.getLoader(t.id),s=0,C=e.graphset.length;s<C;s++)if(e.graphset[s].type&&"wordcloud"===e.graphset[s].type){var h=e.graphset[s].type,p=e.graphset[s],_=ZC.ADP.getDefaults(t.theme),A={};for(p.options&&(A=p.options[h]||p.options),ZC._todash_(A,!0,["words"]),p.labels=p.labels||[],r=p.labels.length-1;r>=0;r--)(p.labels[r]["data-word-cloud"]||p.labels[r].dataWordCloud)&&p.labels.splice(r,1);p.plotarea=p.plotarea||{},null===ZC._n_(p.plotarea.margin)&&(p.plotarea.margin=5);var f=new ZC.ADP;null!==ZC._n_(a=A.text)&&(f.AN=a),null!==ZC._n_(a=A.words)&&(f.aWords=a),null!==ZC._n_(a=A.aspect)&&(f.CW=a),null!==ZC._n_(a=A.ignore)&&(f.ACB=a),null!==ZC._n_(a=A.token)&&(f.ES=a),null!==ZC._n_(a=A["min-length"])&&(f.AE8=ZC._i_(a)),null!==ZC._n_(a=A["min-font-size"])&&(f.AED=ZC._i_(a)),null!==ZC._n_(a=A["max-font-size"])&&(f.AEC=ZC._i_(a)),null!==ZC._n_(a=A["max-items"])&&(f.EG=ZC._i_(a)),null!==ZC._n_(a=A["color-type"])&&(f.AEN=a),null!==ZC._n_(a=A.color)&&(f.C2=ZC.AP.GC(a)),null!==ZC._n_(a=A.palette)?f.BP=a:f.BP=_.palette,null!==ZC._n_(a=A["step-angle"])&&(f.AE6=ZC._i_(a)),null!==ZC._n_(a=A["step-radius"])&&(f.AE5=ZC._i_(a)),null!==ZC._n_(a=A.rotate)&&(f.ZO=ZC._b_(a)),null!==ZC._n_(a=A.normalize)&&(f.bNormalize=ZC._b_(a));var u={};null!==ZC._n_(a=A.style)&&ZC._cp_(a,u);var E=zingchart.getInstance(n,"textbox");E.append(u),E.parse(),f.AED=ZC.BQ(4,f.AED),f.AEC=ZC.BQ(4,f.AEC),f.AED>=f.AEC&&(f.AEC=f.AED+2);var Z=zingchart.getGraphInfo(n,e,s),c=[],d=Z.plotarea.x+Z.plotarea.width/2,g=Z.plotarea.y+Z.plotarea.height/2,w=1;"spiral"===f.CW?w=f.ZO?.65:.55:"flow-top"!==f.CW&&"flow-center"!==f.CW||(f.ZO=!1,w=.75);var W=Z.plotarea.width*Z.plotarea.height*w,v=f.JT(),b=[],x=-Number.MAX_VALUE,D=Number.MAX_VALUE;for(var N in v)b.push({text:N,count:v[N],hits:v[N]});for(b.sort(function(t,e){return t.count<e.count?1:t.count>e.count?-1:0}),-1!==f.EG&&b.splice(f.EG,b.length-f.EG),l=0;l<b.length;l++)x=ZC.BQ(b[l].count,x),D=ZC.CY(b[l].count,D);for(l=0;l<b.length;l++)b[l].count=x===D?50:10+90*(b[l].count-D)/(x-D);var m=function(t){for(l=0;l<b.length;l++)b[l].fontSize=Math.max(f.AED,ZC._i_(f.AED+b[l].count/100*(f.AEC-f.AED))-t),b[l].width=ZC.Q.A43(n.K,b[l].text,E.GH,b[l].fontSize,E.sFontWeight,E.FI)+E.EQ+E.FN,b[l].height=1.1*b[l].fontSize+E.FM+E.FU};m(0);for(var y=!1;!y;){y=!0;var B=0;for(l=0;l<b.length;l++)B+=b[l].width*b[l].height;B>W&&(y=!1,f.AEC--,f.AEC<=f.AED+4&&f.AED--,m(0),(f.AED<5||f.AEC<5)&&(y=!0))}null===ZC._n_(A["step-radius"])&&(f.AE5=(f.AEC-f.AED+.25*f.AED*f.AE8+1)/10);for(var z=!0,M=-1;z&&M<f.AEC-f.AED;){c=[],p.labels=[],m(M+=1),z=!1;var F,G=0,S=0,P=f.AEC/2,X=f.AEC/2,k=[];for(l=0,o=b.length;l<o;l++){var I=!0,Y=d,H=g,Q=f.C2;switch(f.AEN){case"random":Q=f.AGH();break;case"palette":Q=f.BP[l%f.BP.length]}var L=f.ZO?l%4==0||l%4==3?0:90:0,O=!1,T=b[l].text,U={padding:0,dataWordCloud:!0};ZC._cp_(u,U),ZC._cp_({angle:L,"font-size":Math.max(f.AED,b[l].fontSize-M),text:T,color:Q},U),null!==ZC._n_(A.style)&&null!==ZC._n_(a=A.style["hover-state"])&&(U["hover-state"]={},ZC._cp_(a,U["hover-state"]));var V=T;U.tooltip={visible:!1,"background-color":"#fff",color:"#333","border-width":1,"border-color":"#999",padding:10,text:V},null!==ZC._n_(A.style)&&null!==ZC._n_(a=A.style.tooltip)&&ZC._cp_(a,U.tooltip),U.tooltip.text=U.tooltip.text.replace("%text",T).replace("%hits",b[l].hits),f.oWordsMap&&null!==ZC._n_(f.oWordsMap[T])&&(ZC._cp_(f.oWordsMap[T],U),ZC._cp_(f.oWordsMap[T].style,U));var J=0,R=0,K=0,j=f.AED/2;for("flow-top"===f.CW?K=1:"flow-center"===f.CW&&(K=l%2==0?1:-1),k[l]=0;I&&!z;){var q=b[l].width,$=b[l].height;if("spiral"===f.CW?(Y=d+(0===l?0:P)*ZC.EH(G)-q/2,H=g+(0===l?0:X)*ZC.EP(G)-$/2):"flow-center"===f.CW?(Y=0===l?d-q/2:Z.plotarea.x+J,H=g-$/2+R):"flow-top"===f.CW&&(Y=0===l?d-q/2:Z.plotarea.x+J,H=Z.plotarea.y+R),90===L&&"flow-top"===f.CW&&(H=ZC.BQ(H,Z.plotarea.y+$)),U.x=ZC._i_(Y),U.y=ZC._i_(H),I=!1,90===L){var tt=q;Y=ZC._i_(Y+q/2-$/2),H=ZC._i_(H+$/2-q/2),q=$,$=tt}if(Y<Z.plotarea.x||Y+q>Z.plotarea.x+Z.plotarea.width||H<Z.plotarea.y||H+$>Z.plotarea.y+Z.plotarea.height)if("spiral"===f.CW){if(!(k[l]<200)){O=!0,z=!0;break}k[l]++,I=!0}else if("flow-top"===f.CW||"flow-center"===f.CW){if(Y+q>Z.plotarea.x+Z.plotarea.width&&(I=!0,J=-j,R+=K*j),H+$>Z.plotarea.y+Z.plotarea.height){O=!0;break}if(H<Z.plotarea.y){O=!0;break}}if(F={iX:Y,iY:H,I:q,F:$,DG:Math.max(b[l].fontSize-M,f.AED),AN:b[l].text,GH:E.GH},!I)for(r=0,i=c.length;r<i;r++)if(f.intersectRect(c[r],F)){J+=c[r].I,I=!0;break}"spiral"===f.CW?I?(G+=f.AE6)>S+360&&(P+=f.AE5,X+=f.AE5*(Z.plotarea.height/Z.plotarea.width),G=S=5*l%360):(P=X=f.AEC/2,G=S=5*l%360):"flow-top"!==f.CW&&"flow-center"!==f.CW||I&&(J+=j)}O||F.iX<Z.plotarea.x||F.iX+F.I>Z.plotarea.x+Z.plotarea.width||F.iY<Z.plotarea.y||F.iY+F.F>Z.plotarea.y+Z.plotarea.height||(c.push(F),p.labels.push(U))}"flow-top"!==f.CW&&"flow-center"!==f.CW||b.length>c.length&&(z=!0)}}return e})}();