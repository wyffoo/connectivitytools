/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.7
*/
ZC.WI.push("scalemarkers");var A0D={$i:function(e){this.b(e);var i=this;i.C6=.95,i.L=0,i.AF=null,i.M=null,i.F7=null,i.A61=!1,i.BA="bottom",i.AB=0,i.BV=0,i.MK="normal",i.O3="normal",i.K6=[5,5],i.A0H=[0,0],i.YU=""},parse:function(){this.b();var e,i=this;i.assign_a([["type","AF"],["value-range","A61","b"],["offset-start","AB","i"],["offset-end","BV","i"],["placement","BA"],["pair-scale","YU"],["label-placement","MK"],["label-alignment","O3"],["range","F7"]]),null===ZC._n_(i.o.alpha)&&(i.o.alpha="area"===i.AF?.25:.95),null!==ZC._n_(e=i.o["label-tolerance"])&&("object"==typeof e&&e.length?(i.K6[0]=ZC._i_(e[0]||"5"),i.K6[1]=ZC._i_(e[1]||"5")):i.K6[0]=i.K6[1]=ZC._i_(e||"5")),i.assign_a([["alpha","C6","f",0,1]]),null===ZC._n_(e=i.o.label)&&null===ZC._n_(i.o.text)||(i.M=new ZC.DN(i),i.A.A.A.B8.load(i.M.o,["("+i.A.AF+").SCALE.marker.label"]),null!==ZC._n_(i.o.text)&&i.M.append({text:i.o.text}),i.M.append(e),i.M.parse(),i.A0H=[i.M.BM,i.M.BH])},paint:function(){var e,i,A,M,l,a,n,t=this;if(t.F7)if(-1===t.A.BD.indexOf("scale-r")){if(t.AM){var o,p,s,C,B=t.A,F=t.A.A.P.AU,Z=B.A.K+"-scales-"+("top"===t.BA?"f":"b")+"l-0-c";t.Z=t.C7=ZC.AK(B.H.usc()?B.H.K+"-main-c":Z),e=ZC.Q.EB(t.Z,B.H.AA),l=[];var r,K=0,c=0;t.BM>-1&&t.BM<1&&(t.BM=Math.ceil(t.BM*B.AC)),t.BH>-1&&t.BH<1&&(t.BH=Math.ceil(t.BH*B.AC)),t.M&&(t.M.Z=B.H.usc()?B.H.mc():ZC.AK(B.A.K+"-scales-ml-0-c"),t.M.K=t.A.A.K+"-"+t.A.BD.replace(/\-/g,"_")+"-marker_"+t.L,t.M.GL=t.A.K+"-marker-label "+t.A.A.K+"-scale-marker-label zc-scale-marker-label");var h=t.A.A,D=function(e,i){var A;return-1!==(i+"").indexOf("%")?(A=ZC._f_(i.replace("%","")),A="k"===e.AF?ZC._i_(A*(e.DX-e.DC)/100):A*(e.H1-e.FW)/100):A=i,t.A61||"v"===e.AF?e.AT(A):e.IB(A)};if("poly"===t.AF){var f,O,Y,X;for(h=t.A.A,"k"===B.AF?(f=B,O=""===t.YU?h.BU("v")[0]:h.BL(t.YU)||h.BU("v")[0]):"v"===B.AF&&(O=B,f=""===t.YU?h.BU("k")[0]:h.BL(t.YU)||h.BU("k")[0]),a=0,n=t.F7.length;a<n;a++)Y=D(f,t.F7[a][0]),X=O.AT(t.F7[a][1]),l.push([Y,X]),K+=Y,c+=X;if(K/=l.length,c/=l.length,l.length>=3){if(l[0].join("/")!==l[l.length-1].join("/")&&l.push([l[0][0],l[0][1]]),B.A.AJ["3d"])for(B.A.NS(),i=0,A=l.length;i<A;i++)M=new ZC.CD(B.A,l[i][0]-ZC.AO.E2,l[i][1]-ZC.AO.E3,ZC.AO.FT),l[i][0]=M.ED[0],l[i][1]=M.ED[1];(r=new ZC.DT(t.A)).K=B.K+"-marker-"+t.L,r.Z=r.C7=B.H.usc()?B.H.mc():ZC.AK(Z),r.copy(t),r.AZ=0,r.AU=0,r.EX=0,r.G9=0,r.D=l,r.parse(),r.paint()}}else if("line"===t.AF){if(-1!==B.BD.indexOf("scale-x")?1===t.F7.length?o=p=D(B,t.F7[0]):2===t.F7.length&&(o=D(B,t.F7[0]),p=D(B,t.F7[1])):-1!==B.BD.indexOf("scale-y")&&(1===t.F7.length?o=p=D(B,t.F7[0]):2===t.F7.length&&(o=D(B,t.F7[0]),p=D(B,t.F7[1]))),-1!==B.BD.indexOf("scale-x")&&B.CP||-1!==B.BD.indexOf("scale-y")&&!B.CP?(l.push([B.iX+t.AB,o],[B.iX+B.I-t.BV,p]),t.o&&t.o.tooltip&&(h.o.labels=h.o.labels||[],h.o.labels.push({x:B.iX,y:o-t.AZ,width:B.I,height:2*t.AZ,alpha:0,tooltip:t.o.tooltip})),t.M&&("opposite"===t.MK?t.M.iX=B.iX+B.I-t.M.I-t.BV:t.M.iX=B.iX+t.AB,"opposite"===t.MK?t.M.iY=p-(B.AW?0:t.M.F):t.M.iY=o-(B.AW?0:t.M.F))):(l.push([o,B.iY+B.F-t.AB],[p,B.iY+t.BV]),t.o&&t.o.tooltip&&(h.o.labels=h.o.labels||[],h.o.labels.push({x:o-t.AZ,y:B.iY,width:2*t.AZ,height:B.F,alpha:0,tooltip:t.o.tooltip})),t.M&&("opposite"===t.MK?t.M.iX=p-(B.AW?t.M.I:0):t.M.iX=o-(B.AW?t.M.I:0),"opposite"===t.MK?t.M.iY=B.iY+t.M.I-t.M.F+t.BV:t.M.iY=B.iY+B.F-t.M.F-t.AB)),B.A.AJ["3d"])for(B.A.NS(),i=0,A=l.length;i<A;i++)M=new ZC.CD(B.A,l[i][0]-ZC.AO.E2,l[i][1]-ZC.AO.E3,ZC.AO.FT),l[i][0]=M.ED[0],l[i][1]=M.ED[1];2===l.length&&(ZC.CR.setup(e,t),ZC.CR.paint(e,t,l))}else if("area"===t.AF&&(-1!==B.BD.indexOf("scale-x")?2===t.F7.length?(o=s=D(B,t.F7[0]),p=C=D(B,t.F7[1])):4===t.F7.length&&(o=D(B,t.F7[0]),p=D(B,t.F7[1]),s=D(B,t.F7[2]),C=D(B,t.F7[3])):-1!==B.BD.indexOf("scale-y")&&(2===t.F7.length?(o=s=B.AT(t.F7[0]),p=C=B.AT(t.F7[1])):4===t.F7.length&&(o=B.AT(t.F7[0]),p=B.AT(t.F7[1]),s=B.AT(t.F7[2]),C=B.AT(t.F7[3]))),p=o===p?p+1:p,C=s===C?C+1:C,-1!==B.BD.indexOf("scale-x")&&B.CP||-1!==B.BD.indexOf("scale-y")&&!B.CP?(l.push([B.iX+F,o],[B.iX+B.I-F,s],[B.iX+B.I-F,C],[B.iX+F,p],[B.iX+F,o]),t.M&&("opposite"===t.MK?t.M.iX=B.iX+B.I-t.M.I-t.BV:t.M.iX=B.iX+t.AB,"opposite"===t.MK?t.M.iY=p-(B.AW?0:t.M.F):t.M.iY=o-(B.AW?0:t.M.F))):(l.push([o,B.iY+B.F-F],[s,B.iY+F],[C,B.iY+F],[p,B.iY+B.F-F],[o,B.iY+B.F-F]),t.M&&("opposite"===t.MK?t.M.iX=p-(B.AW?t.M.I:0):t.M.iX=o-(B.AW?t.M.I:0),"opposite"===t.MK?t.M.iY=B.iY+t.M.I-t.M.F+t.BV:t.M.iY=B.iY+B.F-t.M.F-t.AB)),l.length>=4)){if(B.A.AJ["3d"])for(B.A.NS(),i=0,A=l.length;i<A;i++)M=new ZC.CD(B.A,l[i][0]-ZC.AO.E2,l[i][1]-ZC.AO.E3,ZC.AO.FT),l[i][0]=M.ED[0],l[i][1]=M.ED[1];(r=new ZC.DT(t.A)).K=B.K+"-marker-"+t.L,r.Z=r.C7=B.H.usc()?B.H.mc():ZC.AK(Z),r.copy(t),r.AZ=0,r.AU=0,r.EX=0,r.G9=0,r.D=l,r.parse(),r.BM=t.BM,r.BH=t.BH,r.paint()}var x=!0,H=B.A.P;2===l.length&&(-1!==B.BD.indexOf("scale-x")&&B.CP||-1!==B.BD.indexOf("scale-y")&&!B.CP?ZC.DS(l[0][1],H.iY-t.K6[1],H.iY+H.F+t.K6[1])&&ZC.DS(l[1][1],H.iY-t.K6[1],H.iY+H.F+t.K6[1])||(x=!1):ZC.DS(l[0][0],H.iX-t.K6[0],H.iX+H.I+t.K6[0])&&ZC.DS(l[1][0],H.iX-t.K6[0],H.iX+H.I+t.K6[0])||(x=!1));var I=t.O3;if(t.M&&x&&("poly"===t.AF?(t.M.iX=ZC._i_(K-t.M.I/2),t.M.iY=ZC._i_(c-t.M.F/2)):("auto"===t.O3&&(I=-1!==B.BD.indexOf("scale-x")&&!B.CP||-1!==B.BD.indexOf("scale-y")&&B.CP?o<B.iX+B.I/2?"normal":"opposite":o>B.iY+B.F/2?"normal":"opposite"),t.M.BM=t.M.BH=0,(-1!==B.BD.indexOf("scale-x")&&!B.CP||-1!==B.BD.indexOf("scale-y")&&B.CP)&&null===ZC._n_(t.M.o.angle)&&(t.M.A9=270),-1!==B.BD.indexOf("scale-x")&&!B.CP||-1!==B.BD.indexOf("scale-y")&&B.CP?(t.M.A9%180==90&&(t.M.BM-=(B.AW?-1:1)*(t.M.I/2-t.M.F/2),t.M.BH-=t.M.I/2-t.M.F/2,"opposite"===t.MK&&(t.M.BH=-t.M.I/2+t.M.F/2),"opposite"===I&&(t.M.BM-=t.M.F)),t.M.A9%180==0&&("opposite"===t.MK&&(t.M.BH=-t.M.I+t.M.F),"opposite"===I&&(t.M.BM-=t.M.I))):(t.M.A9%180==90&&(t.M.BM-=t.M.I/2-t.M.F/2,t.M.BH-=(B.AW?-1:1)*(t.M.I/2-t.M.F/2),"opposite"===t.MK&&(t.M.BM=t.M.I/2-t.M.F/2),"opposite"===I&&(t.M.BH+=t.M.I)),t.M.A9%180==0&&"opposite"===I&&(t.M.BH+=t.M.F)),t.M.BM+=t.A0H[0]+t.BM,t.M.BH+=t.A0H[1]+t.BH),B.A.AJ["3d"]&&(M=new ZC.CD(B.A,t.M.iX-ZC.AO.E2,t.M.iY-ZC.AO.E3,ZC.AO.FT),t.M.iX=M.ED[0],t.M.iY=M.ED[1]),ZC.DS(t.M.iX+t.M.BM+(t.M.A9%180==0?t.M.I/2:t.M.F/2),t.A.A.P.iX-t.K6[0],t.A.A.P.iX+t.A.A.P.I+t.K6[0])&&ZC.DS(t.M.iY+t.M.BH+(t.M.A9%180==0?t.M.F/2:t.M.I/2),t.A.A.P.iY-t.K6[1],t.A.A.P.iY+t.A.A.P.F+t.K6[1])&&(t.M.paint(),t.M.EK(),!t.M.K7&&"normal"===zingchart.OBJECTMODE&&(B.E["marker_text_"+t.L]=t.M.AN,ZC.AK(h.A.K+"-map"))))){var _=ZC.AP.O5(h.K,t.M);ZC.AK(h.A.K+"-map").innerHTML=ZC.AK(h.A.K+"-map").innerHTML+_}}}else t.A.paintMarker(t)}};ZC.A0D=ZC.DT.CA(A0D);