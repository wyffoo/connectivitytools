/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.7_ES6
*/
zingchart.setModule("wordcloud"),function(){var t;ZC.AE0=((t=function(){this.AF9=9,this.AF8=99,this.AF7=2,this.EH=100,this.AF6=15,this.AF5=5,this.ZW=!1,this.ER="word",this.ACG=[],this.AO="",this.aWords=[],this.oWordsMap=null,this.CV="spiral",this.AFE="palette",this.C2="#000",this.bNormalize=!1,this.AGH=function(){for(var t=(16777215*Math.random()+1<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},this.ES=function(){var t,e,a={};if(""!==this.AO){if("word"===this.ER)t=this.AO.replace(/[\:\;\,\.\{\}\[\]\(\)\?\!\/\=\+\-]/g," ").split(" ");else if("character"===this.ER)for(this.AF7=0,t=[],e=0;e<this.AO.length;e++)" "!==this.AO[e]&&t.push(this.AO[e]);for(e=0;e<t.length;e++){var o=this.bNormalize?t[e].toLowerCase():t[e];if(t[e].length>=this.AF7&&-1===ZC.AV(this.ACG,t[e]))if(this.bNormalize){var l=!1;for(var r in a)r.toLowerCase()===o&&(l=!0,a[r]++);l||(a[t[e]]=1)}else null===ZC._n_(a[t[e]])&&(a[t[e]]=0),a[t[e]]++}}if(this.aWords.length>0)for(this.oWordsMap={},e=0;e<this.aWords.length;e++){var i=this.aWords[e];null!==ZC._n_(i.text)&&(this.oWordsMap[i.text]=i,a[i.text]=i.count||0)}return a},this.intersectRect=function(t,e){return!(e.iX>t.iX+t.I||e.iX+e.I<t.iX||e.iY>t.iY+t.F||e.iY+e.F<t.iY)}}).getDefaults=function(e){var a={};return ZC._cp_(t.B8,a),t.O9[e]&&ZC._cp_(t.O9[e],a),a},t.B8={palette:["#6a921f","#007fa3","#a62b02","#b79007","#563d02","#0b32a0"]},t.O9={light:{palette:["#7CA82B","#29A2CC","#D31E1E","#EF8535","#A14BC9","#A05F18","#265E96","#6B7075"]},dark:{palette:["#7CA82B","#29A2CC","#D31E1E","#EF8535","#A14BC9","#A05F18","#265E96","#6B7075"]}},t),zingchart.bind(null,"dataparse",function(t,e){for(var a,o,l,r,i,n=zingchart.getLoader(t.id),C=0,_=e[ZC._[16]].length;C<_;C++)if(e[ZC._[16]][C].type&&"wordcloud"===e[ZC._[16]][C].type){var h=e[ZC._[16]][C].type,s=e[ZC._[16]][C],p=ZC.AE0.getDefaults(t.theme),Z={};for(s.options&&(Z=s.options[h]||s.options),ZC._todash_(Z,!0,["words"]),s[ZC._[10]]=s[ZC._[10]]||[],r=s[ZC._[10]].length-1;r>=0;r--)(s[ZC._[10]][r]["data-word-cloud"]||s[ZC._[10]][r].dataWordCloud)&&s[ZC._[10]].splice(r,1);s.plotarea=s.plotarea||{},null===ZC._n_(s.plotarea.margin)&&(s.plotarea.margin=5);var A=new ZC.AE0;null!==ZC._n_(a=Z.text)&&(A.AO=a),null!==ZC._n_(a=Z.words)&&(A.aWords=a),null!==ZC._n_(a=Z.aspect)&&(A.CV=a),null!==ZC._n_(a=Z.ignore)&&(A.ACG=a),null!==ZC._n_(a=Z.token)&&(A.ER=a),null!==ZC._n_(a=Z["min-length"])&&(A.AF7=ZC._i_(a)),null!==ZC._n_(a=Z["min-font-size"])&&(A.AF9=ZC._i_(a)),null!==ZC._n_(a=Z["max-font-size"])&&(A.AF8=ZC._i_(a)),null!==ZC._n_(a=Z["max-items"])&&(A.EH=ZC._i_(a)),null!==ZC._n_(a=Z["color-type"])&&(A.AFE=a),null!==ZC._n_(a=Z.color)&&(A.C2=ZC.AQ.GE(a)),null!==ZC._n_(a=Z.palette)?A.BP=a:A.BP=p.palette,null!==ZC._n_(a=Z["step-angle"])&&(A.AF6=ZC._i_(a)),null!==ZC._n_(a=Z["step-radius"])&&(A.AF5=ZC._i_(a)),null!==ZC._n_(a=Z.rotate)&&(A.ZW=ZC._b_(a)),null!==ZC._n_(a=Z.normalize)&&(A.bNormalize=ZC._b_(a));var f={};null!==ZC._n_(a=Z.style)&&ZC._cp_(a,f);var u=zingchart.getInstance(n,"textbox");u.append(f),u.parse(),A.AF9=ZC.BQ(4,A.AF9),A.AF8=ZC.BQ(4,A.AF8),A.AF9>=A.AF8&&(A.AF8=A.AF9+2);var c=zingchart.getGraphInfo(n,e,C),F=[],d=c.plotarea.x+c.plotarea.width/2,g=c.plotarea.y+c.plotarea.height/2,w=1;"spiral"===A.CV?w=A.ZW?.65:.55:"flow-top"!==A.CV&&"flow-center"!==A.CV||(A.ZW=!1,w=.75);var E=c.plotarea.width*c.plotarea.height*w,x=A.ES(),v=[],b=-Number.MAX_VALUE,V=Number.MAX_VALUE;for(var m in x)v.push({text:m,count:x[m],hits:x[m]});for(v.sort(function(t,e){return t.count<e.count?1:t.count>e.count?-1:0}),-1!==A.EH&&v.splice(A.EH,v.length-A.EH),o=0;o<v.length;o++)b=ZC.BQ(v[o].count,b),V=ZC.CX(v[o].count,V);for(o=0;o<v.length;o++)v[o].count=b===V?50:10+90*(v[o].count-V)/(b-V);var y=function(t){for(o=0;o<v.length;o++)v[o].fontSize=Math.max(A.AF9,ZC._i_(A.AF9+v[o].count/100*(A.AF8-A.AF9))-t),v[o].width=ZC.Q.A4S(n.K,v[o].text,u.GJ,v[o].fontSize,u.sFontWeight,u.FM)+u.EP+u.FP,v[o].height=1.1*v[o].fontSize+u.FO+u.FS};y(0);for(var W=!1;!W;){W=!0;var z=0;for(o=0;o<v.length;o++)z+=v[o].width*v[o].height;z>E&&(W=!1,A.AF8--,A.AF8<=A.AF9+4&&A.AF9--,y(0),(A.AF9<5||A.AF8<5)&&(W=!0))}null===ZC._n_(Z["step-radius"])&&(A.AF5=(A.AF8-A.AF9+.25*A.AF9*A.AF7+1)/10);for(var B=!0,M=-1;B&&M<A.AF8-A.AF9;){F=[],s[ZC._[10]]=[],y(M+=1),B=!1;var G,O=0,S=0,X=A.AF8/2,k=A.AF8/2,H=[];for(o=0,l=v.length;o<l;o++){var I=!0,N=d,Y=g,P=A.C2;switch(A.AFE){case"random":P=A.AGH();break;case"palette":P=A.BP[o%A.BP.length]}var Q=A.ZW?o%4==0||o%4==3?0:90:0,R=!1,D=v[o].text,L={padding:0,dataWordCloud:!0};ZC._cp_(f,L),ZC._cp_({angle:Q,"font-size":Math.max(A.AF9,v[o].fontSize-M),text:D,color:P},L),null!==ZC._n_(Z.style)&&null!==ZC._n_(a=Z.style[ZC._[71]])&&(L[ZC._[71]]={},ZC._cp_(a,L[ZC._[71]]));var J=D;L.tooltip={visible:!1,"background-color":"#fff",color:"#333","border-width":1,"border-color":"#999",padding:10,text:J},null!==ZC._n_(Z.style)&&null!==ZC._n_(a=Z.style.tooltip)&&ZC._cp_(a,L.tooltip),L.tooltip.text=L.tooltip.text.replace("%text",D).replace("%hits",v[o].hits),A.oWordsMap&&null!==ZC._n_(A.oWordsMap[D])&&(ZC._cp_(A.oWordsMap[D],L),ZC._cp_(A.oWordsMap[D].style,L));var U=0,K=0,j=0,q=A.AF9/2;for("flow-top"===A.CV?j=1:"flow-center"===A.CV&&(j=o%2==0?1:-1),H[o]=0;I&&!B;){var T=v[o].width,$=v[o].height;if("spiral"===A.CV?(N=d+(0===o?0:X)*ZC.EG(O)-T/2,Y=g+(0===o?0:k)*ZC.EN(O)-$/2):"flow-center"===A.CV?(N=0===o?d-T/2:c.plotarea.x+U,Y=g-$/2+K):"flow-top"===A.CV&&(N=0===o?d-T/2:c.plotarea.x+U,Y=c.plotarea.y+K),90===Q&&"flow-top"===A.CV&&(Y=ZC.BQ(Y,c.plotarea.y+$)),L.x=ZC._i_(N),L.y=ZC._i_(Y),I=!1,90===Q){var tt=T;N=ZC._i_(N+T/2-$/2),Y=ZC._i_(Y+$/2-T/2),T=$,$=tt}if(N<c.plotarea.x||N+T>c.plotarea.x+c.plotarea.width||Y<c.plotarea.y||Y+$>c.plotarea.y+c.plotarea.height)if("spiral"===A.CV){if(!(H[o]<200)){R=!0,B=!0;break}H[o]++,I=!0}else if("flow-top"===A.CV||"flow-center"===A.CV){if(N+T>c.plotarea.x+c.plotarea.width&&(I=!0,U=-q,K+=j*q),Y+$>c.plotarea.y+c.plotarea.height){R=!0;break}if(Y<c.plotarea.y){R=!0;break}}if(G={iX:N,iY:Y,I:T,F:$,DG:Math.max(v[o].fontSize-M,A.AF9),AO:v[o].text,GJ:u.GJ},!I)for(r=0,i=F.length;r<i;r++)if(A.intersectRect(F[r],G)){U+=F[r].I,I=!0;break}"spiral"===A.CV?I?(O+=A.AF6)>S+360&&(X+=A.AF5,k+=A.AF5*(c.plotarea.height/c.plotarea.width),O=S=5*o%360):(X=k=A.AF8/2,O=S=5*o%360):"flow-top"!==A.CV&&"flow-center"!==A.CV||I&&(U+=q)}R||G.iX<c.plotarea.x||G.iX+G.I>c.plotarea.x+c.plotarea.width||G.iY<c.plotarea.y||G.iY+G.F>c.plotarea.y+c.plotarea.height||(F.push(G),s[ZC._[10]].push(L))}"flow-top"!==A.CV&&"flow-center"!==A.CV||v.length>F.length&&(B=!0)}}return e})}();