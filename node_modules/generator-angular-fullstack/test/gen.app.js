'use strict';

var _fs = require('fs');

var _fs2 = _interopRequireDefault(_fs);

var _bluebird = require('bluebird');

var _bluebird2 = _interopRequireDefault(_bluebird);

var _testHelpers = require('./test-helpers');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_bluebird2.default.promisifyAll(_fs2.default);


var TEST_DIR = __dirname;
var DEBUG = process.env.DEBUG || false;

var name = process.argv[2];
var options = JSON.parse(process.argv[3]);

// console.log(name);
// console.log(options);

(0, _testHelpers.runGen)(name, options).then(function (dir) {
  process.send(dir);
});

// process.on('disconnect',function() {
// 	process.kill();
// });