/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.7_ES6
*/
zingchart.setModule("chord"),function(){var _;ZC.AE1=((_=function(){this.AFE="palette",this.C2="#6a921f",this.BP=[],this.T6=.8,this.AFC=.1,this.AFB=0,this.AFA=5,this.iGroupPadding=10,this.iGroupOffset=0,this.JV=1,this.KE=!1,this.AGH=function(){for(var _=(16777215*Math.random()+1<<0).toString(16);_.length<6;)_="0"+_;return"#"+_}}).getDefaults=function(t){var l={};return ZC._cp_(_.B8,l),_.O9[t]&&ZC._cp_(_.O9[t],l),l},_.B8={palette:[],"border-color-1":"#999","border-color-2":"#666",alpha:.75,tick:{"line-color":"#666",flat:!0,"line-width":1},item:{color:"#333","offset-r":0},label:{"auto-align":!0,color:"#333","offset-r":0},"value-box":{visible:!1}},_.O9={light:{palette:[["#7CA82B","#7CA82B","#638F12"],["#29A2CC","#29A2CC","#1089B3"],["#D31E1E","#D31E1E","#BA0505"],["#EF8535","#EF8535","#D66C1C"],["#A05F18","#A05F18","#874600"],["#265E96","#265E96","#0D457D"],["#6B7075","#6B7075","#52575C"]],"border-color-1":"#000","border-color-2":"#fff",alpha:1,tick:{"line-color":"#666"}},dark:{palette:[["#7CA82B","#7CA82B","#638F12"],["#29A2CC","#29A2CC","#1089B3"],["#D31E1E","#D31E1E","#BA0505"],["#EF8535","#EF8535","#D66C1C"],["#A05F18","#A05F18","#874600"],["#265E96","#265E96","#0D457D"],["#6B7075","#6B7075","#52575C"]],"border-color-1":"#221F1F","border-color-2":"#221F1F",alpha:1,tick:{"line-color":"#58595B"},item:{color:"#fff"},label:{color:"#D1D3D4"}}},_);var t={},l={},e=null,n=null,a=-1,r=-1,C=function(_){var e=zingchart.getLoader(_.id);if(e){var n=zingchart.getGraph(e,_.graphid);if(n&&"chord"===n.o.type)if(t["chord-"+_.id+"-"+_.graphidx]){l["chord-"+_.id+"-"+_.graphidx]=l["chord-"+_.id+"-"+_.graphidx]||[];var a,r=l["chord-"+_.id+"-"+_.graphidx];-1!==(a=ZC.AV(r,_.plotindex))?r.splice(a,1):r.push(_.plotindex),e.JY()}}};zingchart.bind(null,"legend_item_click",C),zingchart.bind(null,"legend_marker_click",C),zingchart.bind(null,"shape_mouseover",function(_){var l=zingchart.getLoader(_.id);if(l){var e=zingchart.getGraph(l,_.graphid);if(e&&"chord"===e.o.type){var n=t["chord-"+_.id+"-"+_.graphidx];if(n&&!n.KE&&"segment_"===_.shapeid.substring(0,8)){for(var C=ZC._i_(_.shapeid.replace("segment_","")),o=[],Z=0;Z<a;Z++)for(var i=0;i<r;i++)"svg"===l.AA?ZC.A5("#"+e.K+"-shape-chord_"+Z+"_"+i+"-path").attr("fill-opacity",C===Z||C===i?1:.1):o.push({id:"chord_"+Z+"_"+i,alpha:C===Z||C===i?1:.1});"svg"!==l.AA&&zingchart.exec(_.id,"updateobject",{type:"shape",graphid:_.graphid,dynamic:!0,data:o})}}}}),zingchart.bind(null,"shape_mouseout",function(_){var l=zingchart.getLoader(_.id);if(l){var e=zingchart.getGraph(l,_.graphid);if(e&&"chord"===e.o.type){var n=t["chord-"+_.id+"-"+_.graphidx];if(n&&!n.KE&&"segment_"===_.shapeid.substring(0,8)){for(var C=[],o=0;o<a;o++)for(var Z=0;Z<r;Z++)"svg"===l.AA?ZC.A5("#"+e.K+"-shape-chord_"+o+"_"+Z+"-path").attr("fill-opacity",.75):C.push({id:"chord_"+o+"_"+Z,alpha:.75});"svg"!==l.AA&&zingchart.exec(_.id,"updateobject",{type:"shape",graphid:_.graphid,dynamic:!0,data:C})}}}}),zingchart.bind(null,"dataparse",function(_,C){var o,Z,i,p,h,g,c=zingchart.getLoader(_.id);zingchart.initThemes(c);for(var u=ZC.AE1.getDefaults(_.theme),d=0,s=C[ZC._[16]].length;d<s;d++)if("chord"===C[ZC._[16]][d].type){var f=C[ZC._[16]][d].type,A=C[ZC._[16]][d],v={};A.options&&(v=A.options[f]||A.options),ZC._todash_(v),null!==ZC._n_(e)&&(A.shapes=[],ZC._cpa_(e,A.shapes)),null!==ZC._n_(n)&&(A[ZC._[10]]=[],ZC._cpa_(n,A[ZC._[10]]));var b=new ZC.AE1;t["chord-"+_.id+"-"+d]=b,null!==ZC._n_(o=v["color-type"])&&(b.AFE=o),null!==ZC._n_(o=v.color)&&(b.C2=ZC.AQ.GE(o)),null!==ZC._n_(o=v.palette)?b.BP=o:u.palette.length>0&&(b.BP=u.palette),null!==ZC._n_(o=v.radius)&&(b.T6=ZC._f_(ZC.IU(o))),null!==ZC._n_(o=v["band-width"])&&(b.AFC=ZC._f_(ZC.IU(o))),null!==ZC._n_(o=v["band-space"])&&(b.AFB=ZC._f_(ZC.IU(o))),null!==ZC._n_(o=v["angle-padding"])&&(b.AFA=ZC._i_(o)),null!==ZC._n_(o=v["group-padding"])&&(b.iGroupPadding=ZC._i_(o)),null!==ZC._n_(o=v["group-offset"])&&(b.iGroupOffset=ZC._i_(o)),null!==ZC._n_(o=v["size-factor"])&&(b.JV=ZC._f_(o)),null!==ZC._n_(o=v.flat)&&(b.KE=ZC._b_(o));var y=A[ZC._[11]];for(Z=0;Z<y.length;Z++)y[Z]["sort-index"]=Z;var x=[];y.sort(function(_,t){return null!==ZC._n_(_.group)&&-1===ZC.AV(x,ZC._i_(_.group))&&x.push(ZC._i_(_.group)),null!==ZC._n_(t.group)&&-1===ZC.AV(x,ZC._i_(t.group))&&x.push(ZC._i_(t.group)),null!==ZC._n_(_.group)&&null!==ZC._n_(t.group)&&ZC._i_(_.group)-ZC._i_(t.group)!=0?ZC._i_(_.group)-ZC._i_(t.group):_["sort-index"]-t["sort-index"]});var B=ZC.BQ(x.length,1),m=l["chord-"+_.id+"-"+d]||[],F=m.length,E=0;for(Z=0,i=y.length;Z<i;Z++)if(0===F||F>0&&-1===ZC.AV(m,Z))for(h=0,g=(p=y[Z][ZC._[5]]||[]).length;h<g;h++)(0===F||F>0&&-1===ZC.AV(m,h))&&(E+=ZC._f_(p[h]));var M=0;for(Z=0,i=y.length;Z<i;Z++)(0===F||F>0&&-1===ZC.AV(m,Z))&&M++;if(-1===a&&(a=y.length),-1===r)for(Z=0,i=y.length;Z<i;Z++)p=y[Z][ZC._[5]]||[],r=ZC.BQ(r,p.length);A.shapes||(A.shapes=[]),e||(e=[],ZC._cpa_(A.shapes,e));var z=A.shapes;A[ZC._[10]]||(A[ZC._[10]]=[]),n||(n=[],ZC._cpa_(A[ZC._[10]],n));var V,k,D,G,N,w,P,I,L,R,O=A[ZC._[10]];A.legend&&(A.legend[ZC._[54]]="none");var K,T=360-b.AFA*M-b.iGroupPadding*(B>1?B:0),U=[],Q=[],X=[],J=0,S=0,j=null,H=!1;for(Z=0,i=y.length;Z<i;Z++){ZC._todash_(y[Z]),K=1,null!==ZC._n_(y[Z].group)&&(K=ZC._i_(y[Z].group)),H=!1,S=0,null===j&&null!==ZC._n_(y[Z].group)?j=ZC._i_(y[Z].group):ZC._i_(y[Z].group)!==j&&(j=ZC._i_(y[Z].group),H=!0),H&&Z>0&&(S=b.iGroupPadding);var Y=b.C2;if("palette"===b.AFE)if(b.BP.length>0)Y=b.BP[Z%b.BP.length];else Y=zingchart.getPalette(c,Z,"bar")[1];else"random"===b.AFE&&(Y=b.AGH());if(0===F||F>0&&-1===ZC.AV(m,Z)){null===ZC._n_(y[Z][ZC._[0]])&&(y[Z][ZC._[0]]=Y),y[Z].visible=!0;var q={},W=0;for(h=0,g=(p=y[Z][ZC._[5]]||[]).length;h<g;h++)(0===F||F>0&&-1===ZC.AV(m,h))&&(W+=ZC._f_(p[h]));q[ZC._[1]]=J+S,q[ZC._[2]]=q[ZC._[1]]+T*W/E,q.group=K,q.total=W,q[ZC._[5]]=y[Z][ZC._[5]],J=q[ZC._[2]]+b.AFA,U.push(q);var $=zingchart.getInstance(c,"style");$.append(y[Z]),$.parse(),Q[Z]=$,A.legend&&ZC._cp_({"legend-marker":{alpha:.75,"background-color-1":$.A0,"background-color-2":$.AE}},y[Z]),P={"background-color":"#fff",color:"#333","border-width":1,"border-color":u["border-color-1"],padding:10},null!==ZC._n_(v.style)&&null!==ZC._n_(o=v.style.tooltip)&&ZC._cp_(o,P);var __=y[Z].text||"";P.text=__;var t_={alpha:u.alpha,"border-width":0,"background-color":$.A0+" "+$.AE,tooltip:P};null!==ZC._n_(v.style)&&null!==ZC._n_(o=v.style.band)&&ZC._cp_(o,t_),null!==ZC._n_(y[Z].style)&&null!==ZC._n_(o=y[Z].style.band)&&ZC._cp_(o,t_),ZC._cp_({type:"pie",id:"segment_"+Z,"angle-start":q[ZC._[1]],"angle-end":q[ZC._[2]]},t_),t_.tooltip.text=t_.tooltip.text.replace(/%text/gi,__),X.push(t_)}else y[Z].visible=!1,U.push(null),X.push(null)}var l_=0;if(B>1){var e_=Number.MAX_VALUE,n_=-Number.MAX_VALUE;for(Z=0,i=U.length;Z<i;Z++)1===U[Z].group&&(e_=Math.min(e_,U[Z][ZC._[1]]),n_=Math.max(n_,U[Z][ZC._[2]]));l_=(n_-e_)/2}for(l_+=b.iGroupOffset,Z=0,i=U.length;Z<i;Z++)U[Z]&&X[Z]&&(U[Z][ZC._[1]]-=l_,U[Z][ZC._[2]]-=l_,X[Z][ZC._[1]]-=l_,X[Z][ZC._[2]]-=l_,z.push(X[Z]));var a_,r_=Number.MAX_VALUE;if(0!==E){for(Z=0,i=U.length;Z<i;Z++)if(0===F||F>0&&-1===ZC.AV(m,Z)){var C_=Math.pow(10,Math.floor(Math.log(U[Z].total)/Math.LN10));C_>0&&(r_=ZC.CX(r_,C_))}for(;!((a_=T*r_/E)<15);)r_/=2}else r_=1;var o_,Z_,i_,p_,h_,g_,c_,u_=Math.min(0,Math.ceil(Math.log(r_)/Math.LN10)+1),d_=0,s_=0;for(Z=0,i=U.length;Z<i;Z++)if(0===F||F>0&&-1===ZC.AV(m,Z))for(o_=0,Z_=ZC.BQ(1,Math.floor(10/a_)),V=U[Z][ZC._[1]];V<U[Z][ZC._[2]];V+=a_)o_%Z_==0&&(h_=(i_=o_*r_).toFixed(u_),i_>=1e3&&(h_=i_/1e3+"k"),i_>=1e6&&(h_=i_/1e6+"M"),p_={},ZC._cp_(u.item,p_),null!==ZC._n_(v.style)&&null!==ZC._n_(o=v.style.item)&&ZC._cp_(o,p_),null!==ZC._n_(y[Z].style)&&null!==ZC._n_(o=y[Z].style.item)&&ZC._cp_(o,p_),p_.text=h_,ZC._todash_(p_),(g_=zingchart.getInstance(c,"textbox")).append(p_),g_.parse(),s_=Math.max(s_,g_.DS),d_=Math.max(d_,g_.I)),o_++;var f_,A_=0,v_=0,b_=0;for(Z=0;Z<y.length;Z++)h_=y[Z].text||"",f_={},ZC._cp_(u.label,f_),null!==ZC._n_(v.style)&&null!==ZC._n_(o=v.style.label)&&ZC._cp_(o,f_),null!==ZC._n_(y[Z].style)&&null!==ZC._n_(o=y[Z].style.label)&&ZC._cp_(o,f_),f_.text=h_,ZC._todash_(f_),(c_=zingchart.getInstance(c,"textbox")).append(f_),c_.parse(),b_=Math.max(b_,c_.DS),A_=Math.max(A_,c_.I),v_=Math.max(v_,c_.F);if(A.plotarea)for(var y_=["margin",ZC._[57],ZC._[58],ZC._[59],ZC._[60]],x_=0;x_<y_.length;x_++)"dynamic"===A.plotarea[y_[x_]]&&(0===c_.A9?A.plotarea[y_[x_]]=d_+s_+v_-20:A.plotarea[y_[x_]]=d_+s_+A_-20);var B_,m_,F_=zingchart.getGraphInfo(c,C,d),E_=F_.plotarea.x+F_.plotarea.width/2,M_=F_.plotarea.y+F_.plotarea.height/2,z_=F_.graph.x+E_,V_=F_.graph.y+M_;for(B_=b.T6>1?ZC._i_(b.T6):ZC._i_(b.T6*ZC.CX(F_.plotarea.width/2,F_.plotarea.height/2)),B_*=b.JV,m_=b.AFC>1?B_-ZC._i_(b.AFC):ZC._i_((1-b.AFC)*B_),b.AFB<1&&(b.AFB=ZC._i_(b.AFB*B_)),Z=0,i=z.length;Z<i;Z++)z[Z].id&&0===z[Z].id.indexOf("segment_")&&(z[Z].x=E_,z[Z].y=M_,z[Z][ZC._[21]]=B_,z[Z][ZC._[8]]=m_);for(Z=0,i=U.length;Z<i;Z++)if(0===F||F>0&&-1===ZC.AV(m,Z)){o_=0;var k_=[],D_={};ZC._cp_(u.tick,D_),null!==ZC._n_(v.style)&&null!==ZC._n_(o=v.style.tick)&&ZC._cp_(o,D_),null!==ZC._n_(y[Z].style)&&null!==ZC._n_(o=y[Z].style.tick)&&ZC._cp_(o,D_);var G_=D_[ZC._[21]]||5;for(Z_=ZC.BQ(1,Math.floor(10/a_)),w=30,V=U[Z][ZC._[1]];V<U[Z][ZC._[2]];V+=a_){var N_=ZC.AR.BN(z_,V_,B_,V+.1),w_=ZC.AR.BN(z_,V_,B_+G_,V+.1);k_.push(N_,w_,null),o_%Z_==0&&(h_=(i_=o_*r_).toFixed(u_),i_>=1e3&&(h_=i_/1e3+"k"),i_>=1e6&&(h_=i_/1e6+"M"),k=V,D="left",V>90&&V<270&&(k=V-180,D="right"),p_={},ZC._cp_(u.item,p_),null!==ZC._n_(v.style)&&null!==ZC._n_(o=v.style.item)&&ZC._cp_(o,p_),null!==ZC._n_(y[Z].style)&&null!==ZC._n_(o=y[Z].style.item)&&ZC._cp_(o,p_),w=p_[ZC._[19]]||d_,N=ZC._i_(p_["offset-r"]||"0"),G=ZC.AR.BN(E_,M_,B_+G_+N+w/2,V+.1),ZC._cp_({anchor:"c",flat:!0,x:ZC._i_(G[0]),y:ZC._i_(G[1]),width:w,angle:k,"text-align":D,text:h_},p_),(typeof p_.visible===ZC._[31]||ZC._b_(p_.visible))&&O.push(p_)),o_++}ZC._cp_({type:"line",id:"ticks"+Z,points:k_},D_),(typeof D_.visible===ZC._[31]||ZC._b_(D_.visible))&&z.push(D_),k=V=(U[Z][ZC._[1]]+U[Z][ZC._[2]])/2,V<0&&(V+=360),V%=360,D="center",0===c_.A9?V>=0&&V<=180?k-=90:k+=90:V>=0&&V<=90||V>=270&&V<=360?k-=90:k+=90;var P_={};ZC._cp_(u[ZC._[17]],P_),null!==ZC._n_(A.plot)&&null!==ZC._n_(o=A.plot[ZC._[17]])&&ZC._cp_(o,P_),null!==ZC._n_(o=y[Z][ZC._[17]])&&ZC._cp_(o,P_);var I_=ZC.AR.BN(z_,V_,(B_+m_)/2,(U[Z][ZC._[1]]+U[Z][ZC._[2]])/2),L_=k;null===ZC._n_(P_.angle)&&null===ZC._n_(P_["font-angle"])||(P_["auto-align"]?null!==ZC._n_(P_.angle)?L_+=ZC._f_(P_.angle):L_+=ZC._f_(P_["font-angle"]):L_=null!==ZC._n_(P_.angle)?ZC._f_(P_.angle):ZC._f_(P_["font-angle"])),ZC._cp_({id:"vbox_"+Z,anchor:"c",angle:L_,x:I_[0],y:I_[1],flat:!0},P_),P_.text=P_.text||"%node-value",P_.text=P_.text.replace(/%plot-text/gi,y[Z].text||"").replace(/%node-value/gi,U[Z].total),(typeof P_.visible===ZC._[31]||ZC._b_(P_.visible))&&O.push(P_),f_={},ZC._cp_(u.label,f_),null!==ZC._n_(v.style)&&null!==ZC._n_(o=v.style.label)&&ZC._cp_(o,f_),null!==ZC._n_(y[Z].style)&&null!==ZC._n_(o=y[Z].style.label)&&ZC._cp_(o,f_),L=f_[ZC._[19]]||A_,R=f_[ZC._[20]]||v_,I=ZC._i_(f_["offset-r"]||"0"),null===ZC._n_(f_.angle)&&null===ZC._n_(f_["font-angle"])||(f_["auto-align"]?(null!==ZC._n_(f_.angle)?k+=ZC._f_(f_.angle):k+=ZC._f_(f_["font-angle"]),0!==c_.A9&&(D=V>=0&&V<=90||V>=270&&V<=360?"left":"right")):k=null!==ZC._n_(f_.angle)?ZC._f_(f_.angle):ZC._f_(f_["font-angle"])),G=0===c_.A9?ZC.AR.BN(E_,M_,B_+G_+N+w+I+R,V):ZC.AR.BN(E_,M_,B_+G_+N+w+I+L/2,V),ZC._cp_({anchor:"c",flat:!0,x:ZC._i_(G[0]),y:ZC._i_(G[1]),width:L,angle:k,"font-angle":k,"text-align":D,text:y[Z].text},f_),(typeof f_.visible===ZC._[31]||ZC._b_(f_.visible))&&O.push(f_)}var R_=m_-b.AFB;for(Z=0,i=U.length;Z<i;Z++)if(0===F||F>0&&-1===ZC.AV(m,Z))for(h=0,g=U.length;h<i;h++)if(0===F||F>0&&-1===ZC.AV(m,h)){for(var O_=0,K_=0,T_=0;T_<h;T_++)(0===F||F>0&&-1===ZC.AV(m,T_))&&(typeof U[Z][ZC._[5]][T_]===ZC._[31]&&(U[Z][ZC._[5]][T_]=0),O_+=U[Z][ZC._[5]][T_]);for(T_=0;T_<Z;T_++)(0===F||F>0&&-1===ZC.AV(m,T_))&&(typeof U[h][ZC._[5]][T_]===ZC._[31]&&(U[h][ZC._[5]][T_]=0),K_+=U[h][ZC._[5]][T_]);var U_=0;typeof U[Z][ZC._[5]][h]!==ZC._[31]&&(U_=U[Z][ZC._[5]][h]);var Q_=0;typeof U[h][ZC._[5]][Z]!==ZC._[31]&&(Q_=U[h][ZC._[5]][Z]);var X_=U[Z][ZC._[1]]+(U[Z][ZC._[2]]-U[Z][ZC._[1]])*O_/U[Z].total,J_=X_+(U[Z][ZC._[2]]-U[Z][ZC._[1]])*U_/U[Z].total,S_=U[h][ZC._[1]]+(U[h][ZC._[2]]-U[h][ZC._[1]])*K_/U[h].total,j_=S_+(U[h][ZC._[2]]-U[h][ZC._[1]])*Q_/U[h].total;0===U[Z].total&&(X_=U[Z][ZC._[1]],J_=U[Z][ZC._[2]]),0===U[h].total&&(S_=U[h][ZC._[1]],j_=U[h][ZC._[2]]);var H_=ZC.AR.BN(z_,V_,R_,X_),Y_=ZC.AR.BN(z_,V_,R_,S_);P={"background-color":"#fff",color:"#333","border-width":1,"border-color":u["border-color-1"],padding:10},null!==ZC._n_(v.style)&&null!==ZC._n_(o=v.style.tooltip)&&ZC._cp_(o,P);var q_=y[Z].text||"",W_=y[h].text||"",$_={},_t=[];if(Z===h?(P.text=q_+":"+U[Z][ZC._[5]][h],_t=[[H_[0],H_[1]],[z_,V_,R_,X_,J_,0],[z_,V_,H_[0],H_[1]]]):Z<=h&&(P.text=q_+" -> "+W_+":"+U[Z][ZC._[5]][h]+"<br>"+W_+" -> "+q_+":"+U[h][ZC._[5]][Z],_t=[[H_[0],H_[1]],[z_,V_,R_,X_,J_,0],[z_,V_,Y_[0],Y_[1]],[z_,V_,R_,S_,j_,0],[z_,V_,H_[0],H_[1]]]),_t.length>0){var tt=U_>=Q_?Z:h;ZC._cp_({"background-color":Q[tt].A0+" "+Q[tt].AE,alpha:.75,"border-width":1,"border-color":u["border-color-2"],tooltip:P},$_),null!==ZC._n_(v.style)&&null!==ZC._n_(o=v.style.chord)&&ZC._cp_(o,$_),null!==ZC._n_(y[Z].style)&&null!==ZC._n_(o=y[Z].style.chord)&&ZC._cp_(o,$_),ZC._cp_({type:"poly",id:"chord_"+Z+"_"+h,dynamic:!0,"fast-vector-path":!0,points:_t},$_),Z!==h&&null!==ZC._n_(o=$_.tooltip["text-chord"])&&($_.tooltip.text=o),$_.tooltip.text=$_.tooltip.text.replace(/%text-destination/gi,W_).replace(/%value-destination/gi,U[h][ZC._[5]][Z]).replace(/%text-source/gi,q_).replace(/%value-source/gi,U[Z][ZC._[5]][h]).replace(/%text/gi,q_).replace(/%value/gi,U[Z][ZC._[5]][h]),(typeof $_.visible===ZC._[31]||ZC._b_($_.visible))&&(0===U_&&0===Q_||z.push($_))}}}return C})}();